<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Firebase Hosting for Flutter Web Projects in 4 easy steps | Max Weber - Developer, Publisher and Father</title>
<meta name=keywords content="flutter,Good to know,Packages"><meta name=description content="If you create a web project in Flutter it is worth thinking about how to deploy it. In this tutorial you will learn exactly that."><meta name=author content="Max Weber"><link rel=canonical href=https://flutter-explained.dev/posts/firebase-hosting-for-flutter-web-projects-in-4-easy-steps/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://flutter-explained.dev/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://flutter-explained.dev/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://flutter-explained.dev/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://flutter-explained.dev/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://flutter-explained.dev/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://flutter-explained.dev/posts/firebase-hosting-for-flutter-web-projects-in-4-easy-steps/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://flutter-explained.dev/posts/firebase-hosting-for-flutter-web-projects-in-4-easy-steps/"><meta property="og:site_name" content="Max Weber - Developer, Publisher and Father"><meta property="og:title" content="Firebase Hosting for Flutter Web Projects in 4 easy steps"><meta property="og:description" content="If you create a web project in Flutter it is worth thinking about how to deploy it. In this tutorial you will learn exactly that."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-04-16T00:00:00+00:00"><meta property="article:modified_time" content="2020-04-16T00:00:00+00:00"><meta property="article:tag" content="Flutter"><meta property="article:tag" content="Good to Know"><meta property="article:tag" content="Packages"><meta property="og:image" content="https://flutter-explained.dev/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://flutter-explained.dev/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Firebase Hosting for Flutter Web Projects in 4 easy steps"><meta name=twitter:description content="If you create a web project in Flutter it is worth thinking about how to deploy it. In this tutorial you will learn exactly that."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://flutter-explained.dev/posts/"},{"@type":"ListItem","position":2,"name":"Firebase Hosting for Flutter Web Projects in 4 easy steps","item":"https://flutter-explained.dev/posts/firebase-hosting-for-flutter-web-projects-in-4-easy-steps/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Firebase Hosting for Flutter Web Projects in 4 easy steps","name":"Firebase Hosting for Flutter Web Projects in 4 easy steps","description":"If you create a web project in Flutter it is worth thinking about how to deploy it. In this tutorial you will learn exactly that.","keywords":["flutter","Good to know","Packages"],"articleBody":"The app helps me to prevent the loss of my future recipes. I‚Äôm still working on my project, but meanwhile, I wanted to create also a web project out of it. So I decided to create a Flutter Web Project and deploy that to Firebase Hosting. If you want to publish it under GitHub Pages, we have also an article for that.\nFirebase Hosting provides fast and secure hosting for your web app, static and dynamic content, and microservices.\"\nFirebase Documentation\nIn this article, I would like to share my experience with you. So let‚Äôs start.\nPrepare the Flutter web project To deploy a Flutter web project, we have to build the project at first with release build mode of our web app. But before we start with that, let‚Äôs see which different kind of build modes we have in Flutter.\nFlutter Build Modes In Flutter, we have three different build modes for different usages:\nDebug mode: During development and to use hot reload.\nProfile mode: To analyze the performance\nRelease mode: To release the app\nWhen we create a release build for our app, the bundle is minified, and tree shaking has been performed. So let‚Äôs start and build the app in release mode.\nCreate a release bundle Now to run the flutter build, we have to add the release flag to the build function. Open the terminal and navigate into your project folder after that enter the following command.\nflutter build web --release The release build of my save_recipe app looks like following:\nAfter we finished the setup of our Flutter project, it‚Äôs now time to set up our Firebase Hosting.\nFirebase Hosting Setup To set up our project for the deployment to Firebase Hosting, we have to follow some steps that we will go through them step by step.\n1. Create a Firebase project The first step to set up our Firebase Hosting configuration is to create a project in Firebase. Therefore, we have to sign in to the Firebase console with our Google account.\nTo create a new project in Firebase, we will go to the Firebase console‚Äôs project overview and click on Add Project. Next, we give the project a name and click on continue. Here we can choose if we want Google Analytics for our project or not, and after that, we click on create project.\nNow with the project in place, we are set and ready to take the next step. We have to install the Firebase CLI into our project.\n2. Install the Firebase CLI There are different options to create the Firebase CLI. In this article, we will use npm to install it on mac. For that, I will open the Terminal and run the following command.\nnpm install -g firebase-tools After executing this command I get directly an error message:\nnpm WARN checkPermissions Missing write access to /Users/\u003c\u003e/.npm-global/lib/node_modules/firebase-tools/node_modules/string_decoder npm WARN checkPermissions Missing write access to /Users/\u003c","wordCount":"1172","inLanguage":"en","image":"https://flutter-explained.dev/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2020-04-16T00:00:00Z","dateModified":"2020-04-16T00:00:00Z","author":{"@type":"Person","name":"Max Weber"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://flutter-explained.dev/posts/firebase-hosting-for-flutter-web-projects-in-4-easy-steps/"},"publisher":{"@type":"Organization","name":"Max Weber - Developer, Publisher and Father","logo":{"@type":"ImageObject","url":"https://flutter-explained.dev/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://flutter-explained.dev/ accesskey=h title="Home (Alt + H)"><img src=https://flutter-explained.dev/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://flutter-explained.dev/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://flutter-explained.dev/>Home</a>&nbsp;¬ª&nbsp;<a href=https://flutter-explained.dev/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Firebase Hosting for Flutter Web Projects in 4 easy steps</h1><div class=post-description>If you create a web project in Flutter it is worth thinking about how to deploy it. In this tutorial you will learn exactly that.</div><div class=post-meta><span title='2020-04-16 00:00:00 +0000 UTC'>April 16, 2020</span>&nbsp;¬∑&nbsp;6 min&nbsp;¬∑&nbsp;1172 words&nbsp;¬∑&nbsp;Max Weber&nbsp;|&nbsp;<a href=https://github.com/md-weber/website/tree/main/content/posts/firebase-hosting-for-flutter-web-projects-in-4-easy-steps.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#prepare-the-flutter-web-project>Prepare the Flutter web project</a></li><li><a href=#flutter-build-modes>Flutter Build Modes</a></li><li><a href=#create-a-release-bundle>Create a release bundle</a></li><li><a href=#firebase-hosting-setup>Firebase Hosting Setup</a><ul><li><a href=#1-create-a-firebase-project>1. Create a Firebase project</a></li><li><a href=#2-install-the-firebase-cli>2. Install the Firebase CLI</a></li><li><a href=#3-initialize-our-project>3. Initialize our project</a></li><li><a href=#4-project-setup>4. Project Setup</a></li><li><a href=#5-deploy-our-project>5. Deploy our project</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></details></div><div class=post-content><p>The app helps me to prevent the loss of my future recipes. I‚Äôm still working
on my project, but meanwhile, I wanted to create also a web project out of it.
So I decided to create a Flutter Web Project and deploy that to Firebase
Hosting. If you want to publish it under <a href=./github-actions>GitHub Pages</a>, we
have also an article for that.</p><blockquote><p>Firebase Hosting provides fast and secure hosting for your web app, static
and dynamic content, and microservices."</p></blockquote><blockquote><p>Firebase Documentation</p></blockquote><p>In this article, I would like to share my experience with you. So let‚Äôs start.</p><h2 id=prepare-the-flutter-web-project>Prepare the Flutter web project<a hidden class=anchor aria-hidden=true href=#prepare-the-flutter-web-project>#</a></h2><p>To deploy a Flutter web project, we have to build the project at first with
release build mode of our web app. But before we start with that, let‚Äôs see
which different kind of build modes we have in Flutter.</p><h2 id=flutter-build-modes>Flutter Build Modes<a hidden class=anchor aria-hidden=true href=#flutter-build-modes>#</a></h2><p>In Flutter, we have three different <a href=https://docs.flutter.dev/deployment/web#minification>build
modes</a> for different
usages:</p><ul><li><p>Debug mode: During development and to use hot reload.</p></li><li><p>Profile mode: To analyze the performance</p></li><li><p>Release mode: To release the app</p></li></ul><p>When we create a release build for our app, the bundle is minified, and tree
shaking has been performed. So let‚Äôs start and build the app in release mode.</p><h2 id=create-a-release-bundle>Create a release bundle<a hidden class=anchor aria-hidden=true href=#create-a-release-bundle>#</a></h2><p>Now to run the flutter build, we have to add the release flag to the build
function. Open the terminal and navigate into your project folder after that
enter the following command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>
</span></span><span class=line><span class=cl>flutter build web --release
</span></span></code></pre></div><p>The release build of my save_recipe app looks like following:</p><p><img alt="Flutter Web release\nbuild" loading=lazy src=//images.ctfassets.net/573xlmlwok2s/5e0gNZGDdcvPzk6ygWI29v/af1e6ee2c8876902f129e730a7b65fc0/release_build_save_recipe.webp></p><p>After we finished the setup of our Flutter project, it‚Äôs now time to set up
our Firebase Hosting.</p><h2 id=firebase-hosting-setup>Firebase Hosting Setup<a hidden class=anchor aria-hidden=true href=#firebase-hosting-setup>#</a></h2><p>To set up our project for the deployment to Firebase Hosting, we have to
follow some steps that we will go through them step by step.</p><h3 id=1-create-a-firebase-project>1. Create a Firebase project<a hidden class=anchor aria-hidden=true href=#1-create-a-firebase-project>#</a></h3><p>The first step to set up our Firebase Hosting configuration is to create a
project in Firebase. Therefore, we have to sign in to the <a href="https://console.firebase.google.com/?pli=1">Firebase
console</a> with our Google account.</p><p>To create a new project in Firebase, we will go to the Firebase console‚Äôs
project overview and click on Add Project. Next, we give the project a name
and click on continue. Here we can choose if we want Google Analytics for our
project or not, and after that, we click on create project.</p><p>Now with the project in place, we are set and ready to take the next step. We
have to install the <a href=https://firebase.google.com/docs/cli>Firebase CLI</a> into
our project.</p><h3 id=2-install-the-firebase-cli>2. Install the Firebase CLI<a hidden class=anchor aria-hidden=true href=#2-install-the-firebase-cli>#</a></h3><p>There are different options to create the Firebase CLI. In this article, we
will use npm to install it on mac. For that, I will open the Terminal and run
the following command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install -g firebase-tools
</span></span></code></pre></div><p>After executing this command I get directly an error message:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm WARN checkPermissions Missing write access to
</span></span><span class=line><span class=cl>/Users/<span class=s>&lt;&lt;username&gt;&gt;/.npm-global/lib/node_modules/firebase-tools/node_modules/string_decoder
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>npm WARN checkPermissions Missing write access to
</span></span></span><span class=line><span class=cl><span class=s>/Users/&lt;&lt;username</span>&gt;&gt;/.npm-global/lib/node_modules/firebase-tools/node_modules/through2/node_modules
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>npm ERR! code EACCES
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>npm ERR! syscall access
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>npm ERR! path
</span></span><span class=line><span class=cl>/Users/<span class=s>&lt;&lt;username&gt;&gt;/.npm-global/lib/node_modu</span>les/firebase-tools/node_modules/archiver-utils/node_modules/readable-stream
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>npm ERR! errno -13
</span></span></code></pre></div><p>The error message describes that I do not have the right permissions on the
npm folder. To solve this problem I had to run the following command and enter
my password:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo chown -R 501:20 <span class=s2>&#34;/Users/&lt;&lt;username&gt;&gt;/.npm&#34;</span>
</span></span></code></pre></div><p>And last but not least we should fix the permission problem with the
<a href=https://superuser.com/questions/185441/what-does-the-sudo-command-do/185442#185442>sudo</a>
command. After that, I should execute again the command to install the
Firebase CLI again.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo npm install -g firebase-tools
</span></span></code></pre></div><h3 id=3-initialize-our-project>3. Initialize our project<a hidden class=anchor aria-hidden=true href=#3-initialize-our-project>#</a></h3><p>Now it is time to connect our local project to our Firebase project. For this
purpose, we have to navigate to the root of our project in the terminal at
first. And after that initialize a new Firebase project with the following
command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>firebase init
</span></span></code></pre></div><p>With this command, we will set up our project directory and some Firebase
features. As soon as I execute the command, I get the following error:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>zsh: <span class=nb>command</span> not found: firebase
</span></span></code></pre></div><p>After some researches, I figure out a solution from durul in
[GitHub]https://github.com/firebase/firebase-tools/issues/113#issuecomment-301613705,
how to fix it. As the global variable for the zsh is not correctly set, we
should set it up at first. To solve this issue, I run this command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>firebase</span><span class=o>=</span><span class=s2>&#34;`npm config get prefix`/bin/firebase&#34;</span>
</span></span></code></pre></div><p>After that, we will execute the previous command again and I get a promising
answer now.</p><p><img alt="Flutter Web release\nbuild" loading=lazy src=//images.ctfassets.net/573xlmlwok2s/3ZwauIzJHkvJ2ngxj9Eolu/020e8ea97d749dba5166bc7f168979a8/promising_answer.png></p><h3 id=4-project-setup>4. Project Setup<a hidden class=anchor aria-hidden=true href=#4-project-setup>#</a></h3><p>In the next steps, we should configure the Firebase CLI features for our
project. To do that, we can navigate between different answers in each
question and select our answer with the space key and after that hit the enter
key. For the questions with a yes or no answer, we should type just ‚Äúy‚Äù or
‚Äún‚Äù.</p><ol><li><p>Which Firebase CLI feature do you want to set up for your folder?
<code>Hosting</code></p></li><li><p>Select your default firebase project, if you have. In my case, I will
select save-recipes project and hit enter.</p></li><li><p>What do you want to use as your public directory? <code>build/web</code></p></li><li><p>The answer to this question should be the path to our index.html file in
our web bundle.</p></li><li><p>Configure as a single-page app? <code>y</code></p></li><li><p>File build/web/index.html already exists. Overwrite? <code>N</code></p></li></ol><p><img alt="Firebase CLI Project\nSetup" loading=lazy src=//images.ctfassets.net/573xlmlwok2s/57zhnW39UrvzHspx4wsk3v/c254ba42bdb4c47c325b45ef5f9f0941/project_setup.webp></p><p>Now our Firebase initialization is done. If we have a look at our project, we
can see that Firebase creates two new files in the root of our local project.</p><p>The <code>.firebaserc</code> file stores our <a href=https://firebase.google.com/docs/cli#project_aliases>project
aliases</a>.</p><p>And the firebase.json contains the list of our project configuration. If you
like to learn more about how to configure customized hosting behaviour, have a
look in the <a href=https://firebase.google.com/docs/hosting/full-config>Firebase
documentation</a>.</p><h3 id=5-deploy-our-project>5. Deploy our project<a hidden class=anchor aria-hidden=true href=#5-deploy-our-project>#</a></h3><p>We are almost there. The last step is now to deploy our website. For that, we
should run this command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>firebase deploy
</span></span></code></pre></div><p>If everything is going well, we should get the URL to our deployed website.</p><p>Hurray!! Here we go, this is the URL to my save-recipes project:</p><p><a href=https://save-recipes.web.app>https://save-recipes.web.app</a></p><p>Now if we open the link to our website, we should see our web project, which
is in our index.html file.</p><p>If we open the URL and see the following screen in our browser, it means that
we didn‚Äôt set the right public directory for our project, which was the third
question by the project setup.</p><p><img alt="Welcome Firebase Hosting\nScreen" loading=lazy src=//images.ctfassets.net/573xlmlwok2s/66q8Fi7PwujyNyVUG3iLWp/abfaa8daa91ba5d9e4c83cde81cb2927/welcome_firebase_hosting.png></p><p>To solve this problem, we should just adjust the ‚Äúpublic‚Äù directory in the
firebase.json file to the right path. The directory should point directly to
the index.html folder in our web bundle in our local project.</p><p>After we change this directory, we should save it and deploy our project
again. That means execute again our last command in terminal.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>firebase deploy
</span></span></code></pre></div><p>Now it should work everything as desired, and we should be good to go.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Creation of a Flutter web project is fast, and you can do it with a single
command. In this article, we learned how to deploy our Flutter web project to
the Firebase Hosting, which is also possible in a couple of steps.</p><p>I highly recommend you to give it a try and let me know in the comments about
your experiences.</p><p>Thanks for reading and think about supporting me on <a href=https://patreon.com/dev_cafe>Patreon</a>! üéâ</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://flutter-explained.dev/tags/flutter/>Flutter</a></li><li><a href=https://flutter-explained.dev/tags/good-to-know/>Good to Know</a></li><li><a href=https://flutter-explained.dev/tags/packages/>Packages</a></li></ul><nav class=paginav><a class=prev href=https://flutter-explained.dev/posts/top-7-flutter-packages/><span class=title>¬´ Prev</span><br><span>Repositories that are worth mentioning</span>
</a><a class=next href=https://flutter-explained.dev/posts/step-by-step-guide-for-flutter-json-serialization/><span class=title>Next ¬ª</span><br><span>Step-by-Step guide for Flutter JSON Serialization</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://flutter-explained.dev/>Max Weber - Developer, Publisher and Father</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><style>.custom-footer{display:flex;margin:0 auto;font-size:11px;justify-content:center}.custom-footer a{padding:10px}</style><nav class=custom-footer><a href=/data-privacy>Data Privacy</a>
<a href=/imprint>Imprint</a></nav><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>